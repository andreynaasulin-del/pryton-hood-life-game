/**
 * Ð¡Ð®Ð–Ð•Ð¢ÐÐ«Ð• Ð¡ÐžÐ‘Ð«Ð¢Ð˜Ð¯ â€” ÐžÐ¡Ð•ÐÐ¬
 * Ð¡Ð¾Ð±Ñ‹Ñ‚Ð¸Ñ, Ð¿Ñ€Ð¸Ð²ÑÐ·Ð°Ð½Ð½Ñ‹Ðµ Ðº ÐºÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¼ Ð´Ð½ÑÐ¼ Ð¸Ð³Ñ€Ñ‹
 */

export const STORY_EVENTS = {
  // === ÐÐšÐ¢ 1: ÐŸÐ ÐžÐ‘Ð£Ð–Ð”Ð•ÐÐ˜Ð• ===

  day_3_payment: {
    id: 'day_3_payment',
    day: 3,
    title: 'ðŸ’° ÐŸÐ•Ð Ð’Ð«Ð™ Ð’Ð˜Ð—Ð˜Ð¢ ÐšÐžÐ›Ð›Ð•ÐšÐ¢ÐžÐ Ð',
    category: 'main',
    condition: () => true,
    execute: (gameState) => {
      const syndicateDebt = gameState.getState().syndicate;
      const cash = gameState.getState().kpis.cash;

      if (cash >= syndicateDebt.currentPayment) {
        return {
          title: 'âœ… ÐŸÐ›ÐÐ¢ÐÐ– ÐŸÐ Ð˜ÐÐ¯Ð¢',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ ÑÑ‚Ð¾Ð¸Ñ‚ Ð² Ð´Ð²ÐµÑ€ÑÑ…. Ð¨Ð²ÐµÐ¹Ñ†Ð°Ñ€ÑÐºÐ¸Ðµ Ñ‡Ð°ÑÑ‹, Ð´Ð¾Ñ€Ð¾Ð³Ð¾Ð¹ ÐºÐ¾ÑÑ‚ÑŽÐ¼, Ð¼Ñ‘Ñ€Ñ‚Ð²Ñ‹Ðµ Ð³Ð»Ð°Ð·Ð°.
                    
â€” *${syndicateDebt.currentPayment} Ñ€ÑƒÐ±Ð»ÐµÐ¹. Ð Ð¾Ð²Ð½Ð¾.*

Ð¢Ñ‹ Ð¿ÐµÑ€ÐµÐ´Ð°Ñ‘ÑˆÑŒ Ð´ÐµÐ½ÑŒÐ³Ð¸. ÐžÐ½ Ð¿ÐµÑ€ÐµÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ ÐºÑƒÐ¿ÑŽÑ€Ñ‹, ÑÐºÐ»Ð°Ð´Ñ‹Ð²Ð°ÐµÑ‚ Ð² ÐºÐ¾Ð½Ð²ÐµÑ€Ñ‚.

â€” *Ð£Ð¼Ð½Ñ‹Ð¹ Ð¼Ð°Ð»ÑŒÑ‡Ð¸Ðº. Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ð²Ð·Ð½Ð¾Ñ Ñ‡ÐµÑ€ÐµÐ· Ñ‚Ñ€Ð¸ Ð´Ð½Ñ.*

ÐžÐ½ ÑƒÑ…Ð¾Ð´Ð¸Ñ‚. Ð¢Ñ‹ Ð¶Ð¸Ð². **ÐŸÐ¾ÐºÐ° Ñ‡Ñ‚Ð¾.**`,
          choices: [
            { text: 'Ð’Ñ‹Ð´Ð¾Ñ…Ð½ÑƒÑ‚ÑŒ', effects: {} }
          ]
        };
      } else {
        return {
          title: 'âš ï¸ ÐÐ•Ð¢ Ð”Ð•ÐÐ•Ð“',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ Ð²Ñ…Ð¾Ð´Ð¸Ñ‚ Ð±ÐµÐ· ÑÑ‚ÑƒÐºÐ°. 
                    
â€” *Ð“Ð´Ðµ Ð´ÐµÐ½ÑŒÐ³Ð¸, ÐŸÑ€Ð¸Ñ‚Ð¾Ð½Ð¾Ð²ÐµÑ†?*

Ð¢Ñ‹ Ð¿Ñ‹Ñ‚Ð°ÐµÑˆÑŒÑÑ Ñ‡Ñ‚Ð¾-Ñ‚Ð¾ ÑÐºÐ°Ð·Ð°Ñ‚ÑŒ. Ð•Ð³Ð¾ ÐºÑƒÐ»Ð°Ðº Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ.

**Ð£Ð”ÐÐ  Ð’ Ð–Ð˜Ð’ÐžÐ¢.**

Ð¢Ñ‹ Ð½Ð° Ð¿Ð¾Ð»Ñƒ. ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ Ð·Ð°Ð±Ð¸Ñ€Ð°ÐµÑ‚ Ð²ÑÑ‘ Ñ‡Ñ‚Ð¾ ÐµÑÑ‚ÑŒ Ð² ÐºÐ°Ñ€Ð¼Ð°Ð½Ð°Ñ… Ð¸ ÑƒÑ…Ð¾Ð´Ð¸Ñ‚.

â€” *Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð· â€” Ñ…ÑƒÐ¶Ðµ Ð±ÑƒÐ´ÐµÑ‚.*`,
          choices: [
            {
              text: 'ÐŸÐ¾Ð´Ð½ÑÑ‚ÑŒÑÑ',
              effects: {
                health: -30,
                stability: -20,
                cash: -cash // Ð—Ð°Ð±Ñ€Ð°Ð»Ð¸ Ð²ÑÑ‘
              }
            }
          ]
        };
      }
    }
  },

  day_5_zef: {
    id: 'day_5_zef',
    day: 5,
    title: 'ðŸŽ§ Ð’Ð¡Ð¢Ð Ð•Ð§Ð Ð¡ Ð—Ð•Ð¤ÐžÐœ',
    category: 'character',
    condition: (state) => {
      // ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼, Ð·Ð°Ð¿Ð¸ÑÐ°Ð» Ð»Ð¸ Ñ…Ð¾Ñ‚Ñ Ð±Ñ‹ Ð¾Ð´Ð¸Ð½ Ñ‚Ñ€ÐµÐº
      return state.music?.tracksRecorded > 0;
    },
    execute: () => ({
      title: 'ðŸŽ§ Ð—Ð•Ð¤ â€” ÐŸÐ ÐžÐ”Ð®Ð¡Ð•Ð ',
      text: `Ð¢Ñ‹ Ð² ÑÑ‚ÑƒÐ´Ð¸Ð¸, Ð´Ð¾Ð²Ð¾Ð´Ð¸ÑˆÑŒ Ð¼Ð¸ÐºÑ. Ð”Ð²ÐµÑ€ÑŒ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚ÑÑ.

â€” *Ð¡Ð»Ñ‹ÑˆÐ°Ð» Ñ‚Ð²Ð¾Ð¹ Ð´ÐµÐ¼Ð¾Ñ. ÐÐµÐ¿Ð»Ð¾Ñ… Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð°.*

**Ð—ÐµÑ„.** ÐœÐµÑÑ‚Ð½Ð°Ñ Ð»ÐµÐ³ÐµÐ½Ð´Ð°. ÐŸÑ€Ð¾Ð´ÑŽÑÐ¸Ñ€Ð¾Ð²Ð°Ð» Ð²ÑÐµÑ… ÐºÑ€ÑƒÐ¿Ð½Ñ‹Ñ… Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ. Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ð½Ð° Ð¿Ð¾ÐºÐ¾Ðµ, Ð½Ð¾ Ð²ÑÑ‘ ÐµÑ‰Ñ‘ Ð² Ð¸Ð³Ñ€Ðµ.

â€” *Ð£ Ñ‚ÐµÐ±Ñ ÐµÑÑ‚ÑŒ Ð¿Ð¾Ñ‚ÐµÐ½Ñ†Ð¸Ð°Ð», ÐŸÑ€Ð¸Ñ‚Ð¾Ð½Ð¾Ð²ÐµÑ†. ÐÐ¾ Ñ‚ÐµÑ…Ð½Ð¸ÐºÐ° Ñ…Ñ€Ð¾Ð¼Ð°ÐµÑ‚. ÐŸÑ€Ð¸Ñ…Ð¾Ð´Ð¸ Ð½Ð° ÑÐµÑÑÐ¸Ð¸ â€” Ð±ÑƒÐ´Ñƒ ÑƒÑ‡Ð¸Ñ‚ÑŒ.*

ÐžÐ½ Ð¿Ñ€Ð¾Ñ‚ÑÐ³Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¸Ð·Ð¸Ñ‚ÐºÑƒ.

â€” *Ð˜ ÐºÑÑ‚Ð°Ñ‚Ð¸, ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ñ‹ Ð±Ð¸Ñ‚Ñ‹ â€” Ñƒ Ð¼ÐµÐ½Ñ ÐµÑÑ‚ÑŒ Ð¿Ð°Ñ€Ð° Ð¾Ñ‚Ð±Ð¾Ñ€Ð½Ñ‹Ñ…. Ð—Ð° Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÑƒÑŽ Ð¿Ð»Ð°Ñ‚Ñƒ, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾.*

**Ð—Ð•Ð¤ Ð¢Ð•ÐŸÐ•Ð Ð¬ Ð”ÐžÐ¡Ð¢Ð£ÐŸÐ•Ð ÐšÐÐš NPC.**`,
      choices: [
        { text: 'Ð¡Ð¿Ð°ÑÐ¸Ð±Ð¾, Ð—ÐµÑ„', effects: { relationship: { zef: 15 } } }
      ]
    })
  },

  day_7_battle_rumor: {
    id: 'day_7_battle_rumor',
    day: 7,
    title: 'âš”ï¸ Ð¡Ð›Ð£Ð¥Ð˜ Ðž Ð‘ÐÐ¢Ð¢Ð›Ð•',
    category: 'info',
    condition: () => true,
    execute: () => ({
      title: 'ðŸ“¢ Ð¡Ð›Ð£Ð¥Ð˜ ÐŸÐž Ð ÐÐ™ÐžÐÐ£',
      text: `Ð¢Ñ‹ Ð½Ð° ÑƒÐ»Ð¸Ñ†Ðµ, Ñ€Ð°Ð·Ð´Ð°Ñ‘ÑˆÑŒ Ð»Ð¸ÑÑ‚Ð¾Ð²ÐºÐ¸. ÐŸÑ€Ð¾Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¼Ð¸Ð¼Ð¾ Ð³Ñ€ÑƒÐ¿Ð¿Ð° Ð·Ð½Ð°ÐºÐ¾Ð¼Ñ‹Ñ… Ñ€ÑÐ¿ÐµÑ€Ð¾Ð².

â€” *Ð¡Ð»Ñ‹ÑˆÐ°Ð»? Ð§ÐµÑ€ÐµÐ· Ð¿Ð°Ñ€Ñƒ Ð½ÐµÐ´ÐµÐ»ÑŒ Ð±ÑƒÐ´ÐµÑ‚ Ð±Ð°Ñ‚Ñ‚Ð» Ð² ÐºÐ»ÑƒÐ±Ðµ. Ð“Ð¾Ð²Ð¾Ñ€ÑÑ‚, Ð¿Ñ€Ð¸Ð·Ð¾Ð²Ð¾Ð¹ Ñ„Ð¾Ð½Ð´ Ð½Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹.*

â€” *Ð”Ð° Ð½Ñƒ, ÐºÑ‚Ð¾ Ñ‚ÑƒÐ´Ð° Ð¿ÑƒÑÑ‚Ð¸Ñ‚ Ñ‚Ð°ÐºÐ¸Ñ… ÐºÐ°Ðº Ð¼Ñ‹?*

â€” *Ð—ÐµÑ„ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·ÑƒÐµÑ‚. ÐžÐ½ Ð²ÑÐµÑ… Ð±ÐµÑ€Ñ‘Ñ‚, ÐºÑ‚Ð¾ Ð½Ðµ ÑÐ¾Ð²ÑÐµÐ¼ Ð´Ð½Ð¸Ñ‰Ðµ.*

Ð¢Ñ‹ Ð·Ð°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÐµÑˆÑŒ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸ÑŽ. **Ð‘Ð°Ñ‚Ñ‚Ð».** Ð­Ñ‚Ð¾ ÑˆÐ°Ð½Ñ Ð·Ð°Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾ÑÐ»Ð°Ð²Ð¸Ñ‚ÑŒÑÑ.

Ð˜Ð»Ð¸ Ð¾Ð¿Ð¾Ð·Ð¾Ñ€Ð¸Ñ‚ÑŒÑÑ Ð½Ð° Ð²ÐµÑÑŒ Ð³Ð¾Ñ€Ð¾Ð´.`,
      choices: [
        { text: 'Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾...', effects: { fame: 5 } }
      ]
    })
  },

  day_10_second_payment: {
    id: 'day_10_second_payment',
    day: 10,
    title: 'ðŸ’¸ Ð’Ð¢ÐžÐ ÐžÐ™ Ð’Ð˜Ð—Ð˜Ð¢',
    category: 'main',
    condition: () => true,
    execute: (gameState) => {
      const syndicateDebt = gameState.getState().syndicate;
      const cash = gameState.getState().kpis.cash;

      if (cash >= syndicateDebt.currentPayment) {
        return {
          title: 'âœ… ÐŸÐ›ÐÐ¢ÐÐ– â„–2',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ ÑÐ½Ð¾Ð²Ð° Ð½Ð° Ð¿Ð¾Ñ€Ð¾Ð³Ðµ. Ð¢Ð° Ð¶Ðµ Ð¿Ñ€Ð¾Ñ†ÐµÐ´ÑƒÑ€Ð°.
                    
â€” *${syndicateDebt.currentPayment}. Ð‘Ñ‹ÑÑ‚Ñ€Ð¾.*

Ð¢Ñ‹ Ð¾Ñ‚Ð´Ð°Ñ‘ÑˆÑŒ. ÐžÐ½ ÐºÐ¸Ð²Ð°ÐµÑ‚.

â€” *Ð¢Ñ‹ ÑƒÑ‡Ð¸ÑˆÑŒÑÑ, ÐŸÑ€Ð¸Ñ‚Ð¾Ð½Ð¾Ð²ÐµÑ†. ÐÐ¾ Ñ€Ð°ÑÑÐ»Ð°Ð±Ð»ÑÑ‚ÑŒÑÑ Ñ€Ð°Ð½Ð¾. Ð”Ð¾Ð»Ð³ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹. Ð Ð²Ñ€ÐµÐ¼Ñ Ð¸Ð´Ñ‘Ñ‚.*

**ÐšÐžÐÐ•Ð¦ ÐÐšÐ¢Ð 1.**`,
          choices: [
            { text: 'Ð”Ð°Ð»ÑŒÑˆÐµ', effects: {} }
          ]
        };
      } else {
        return {
          title: 'âŒ ÐŸÐ ÐžÐ¡Ð ÐžÐ§ÐšÐ',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ Ð½Ðµ Ð¾Ð´Ð¸Ð½. Ð¡ Ð½Ð¸Ð¼ ÐµÑ‰Ñ‘ Ð´Ð²Ð¾Ðµ.
                    
â€” *Ð”ÐµÐ½ÐµÐ³ Ð½ÐµÑ‚? ÐŸÐ»Ð¾Ñ…Ð¾.*

ÐžÐ½Ð¸ Ð¼ÐµÑ‚Ð¾Ð´Ð¸Ñ‡Ð½Ð¾ Ð²Ñ‹Ð½Ð¾ÑÑÑ‚ Ð²ÑÑ‘ Ñ†ÐµÐ½Ð½Ð¾Ðµ Ð¸Ð· Ð¿Ñ€Ð¸Ñ‚Ð¾Ð½Ð°. Ð¢ÐµÐ»ÐµÐ²Ð¸Ð·Ð¾Ñ€, Ð¼Ð¸ÐºÑ€Ð¾Ñ„Ð¾Ð½, Ð´Ð°Ð¶Ðµ ÑÑ‚Ð°Ñ€Ñ‹Ðµ ÐºÑ€Ð¾ÑÑÐ¾Ð²ÐºÐ¸.

â€” *Ð’ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð· Ð²Ð¾Ð·ÑŒÐ¼Ñ‘Ð¼ Ñ Ñ‚ÐµÐ±Ñ. Ð‘ÑƒÐºÐ²Ð°Ð»ÑŒÐ½Ð¾.*

**Ð’Ð¡Ð¯ Ð­Ð›Ð•ÐšÐ¢Ð ÐžÐÐ˜ÐšÐ Ð˜Ð—ÐªÐ¯Ð¢Ð.**`,
          choices: [
            {
              text: 'Ð§Ñ‘Ñ€Ñ‚...',
              effects: {
                health: -40,
                stability: -30
                // Future: add inventory loss feature
              }
            }
          ]
        };
      }
    }
  },

  // === ÐÐšÐ¢ 2: Ð¥ÐÐ¡Ð› (Ð”ÐÐ˜ 11-20) ===

  day_11_casino: {
    id: 'day_11_casino',
    day: 11,
    title: 'ðŸŽ° ÐšÐÐ—Ð˜ÐÐž ÐžÐ¢ÐšÐ Ð«Ð¢Ðž',
    category: 'feature',
    condition: () => true,
    execute: () => ({
      title: 'ðŸŽ° ÐÐžÐ’ÐÐ¯ Ð’ÐžÐ—ÐœÐžÐ–ÐÐžÐ¡Ð¢Ð¬',
      text: `Ð¢Ñ‹ Ð¿Ñ€Ð¾Ñ…Ð¾Ð´Ð¸ÑˆÑŒ Ð¼Ð¸Ð¼Ð¾ Ð¿Ð¾Ð´Ð²Ð°Ð»Ð° Ð½Ð° Ð¾ÐºÑ€Ð°Ð¸Ð½Ðµ. ÐÐµÐ¾Ð½Ð¾Ð²Ð°Ñ Ð²Ñ‹Ð²ÐµÑÐºÐ° Ð¼Ð¸Ð³Ð°ÐµÑ‚: "Ð—ÐžÐ›ÐžÐ¢ÐÐ¯ Ð”Ð«Ð Ð".

**ÐŸÐ¾Ð´Ð¿Ð¾Ð»ÑŒÐ½Ð¾Ðµ ÐºÐ°Ð·Ð¸Ð½Ð¾.** Ð—Ð´ÐµÑÑŒ Ð¼Ð¾Ð¶Ð½Ð¾ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð·Ð°Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ. Ð˜Ð»Ð¸ Ð±Ñ‹ÑÑ‚Ñ€Ð¾ Ð²ÑÑ‘ Ð¿Ñ€Ð¾Ð¸Ð³Ñ€Ð°Ñ‚ÑŒ.

ÐžÑ…Ñ€Ð°Ð½Ð½Ð¸Ðº Ñƒ Ð²Ñ…Ð¾Ð´Ð° ÐºÐ¸Ð²Ð°ÐµÑ‚:
â€” *Ð—Ð°Ñ…Ð¾Ð´Ð¸, ÐµÑÐ»Ð¸ Ð½Ðµ Ð±Ð¾Ð¸ÑˆÑŒÑÑ Ñ€Ð¸ÑÐºÐ¾Ð²Ð°Ñ‚ÑŒ.*

**ÐšÐÐ—Ð˜ÐÐž Ð ÐÐ—Ð‘Ð›ÐžÐšÐ˜Ð ÐžÐ’ÐÐÐž.**`,
      choices: [
        { text: 'Ð˜Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾', effects: {} }
      ]
    })
  },

  day_12_baryga_offer: {
    id: 'day_12_baryga_offer',
    day: 12,
    title: 'ðŸ’¼ ÐŸÐ Ð•Ð”Ð›ÐžÐ–Ð•ÐÐ˜Ð• Ð‘ÐÐ Ð«Ð“Ð˜',
    category: 'choice',
    condition: () => true,
    execute: () => ({
      title: 'ðŸ’¼ Ð¡ÐžÐœÐÐ˜Ð¢Ð•Ð›Ð¬ÐÐÐ¯ Ð ÐÐ‘ÐžÐ¢Ð',
      text: `Ð‘Ð°Ñ€Ñ‹Ð³Ð° Ð² Ð¼Ð°Ð³Ð°Ð·Ð¸Ð½Ðµ Ð¿Ð¾Ð´Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ñ‚ÐµÐ±Ñ Ð¿Ð¾Ð±Ð»Ð¸Ð¶Ðµ.

â€” *Ð¡Ð»ÑƒÑˆÐ°Ð¹, Ñƒ Ð¼ÐµÐ½Ñ ÐµÑÑ‚ÑŒ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‘Ð½ÐºÐ°. ÐÐ°Ð´Ð¾ Ð´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°ÐºÐµÑ‚. ÐÐµ ÑÐ¿Ñ€Ð°ÑˆÐ¸Ð²Ð°Ð¹ Ñ‡Ñ‚Ð¾ Ð²Ð½ÑƒÑ‚Ñ€Ð¸.*

â€” *Ð—Ð°Ð¿Ð»Ð°Ñ‡Ñƒ Ñ…Ð¾Ñ€Ð¾ÑˆÐ¾ â€” 3000â‚½. Ð˜Ð»Ð¸ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð´Ð°Ð»ÑŒÑˆÐµ Ð»Ð¸ÑÑ‚Ð¾Ð²ÐºÐ¸ Ñ€Ð°Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð·Ð° ÐºÐ¾Ð¿ÐµÐ¹ÐºÐ¸.*

Ð¢Ñ‹ Ð·Ð½Ð°ÐµÑˆÑŒ, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ Ð½ÐµÐ·Ð°ÐºÐ¾Ð½Ð½Ð¾. ÐÐ¾ Ð´ÐµÐ½ÑŒÐ³Ð¸ Ð½ÑƒÐ¶Ð½Ñ‹.`,
      choices: [
        {
          text: 'Ð¡Ð¾Ð³Ð»Ð°ÑÐ¸Ñ‚ÑŒÑÑ (Ð Ð˜Ð¡Ðš)',
          effects: {
            cash: 3000,
            stability: -15
          }
        },
        {
          text: 'ÐžÑ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ',
          effects: {
            stability: 5
          }
        }
      ]
    })
  },

  day_17_third_payment: {
    id: 'day_17_third_payment',
    day: 17,
    title: 'ðŸ’¸ Ð¢Ð Ð•Ð¢Ð˜Ð™ ÐŸÐ›ÐÐ¢ÐÐ–',
    category: 'main',
    condition: () => true,
    execute: (gameState) => {
      const syndicateDebt = gameState.getState().syndicate;
      const cash = gameState.getState().kpis.cash;

      if (cash >= syndicateDebt.currentPayment) {
        return {
          title: 'âœ… ÐŸÐ›ÐÐ¢ÐÐ– #3',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ Ñ‚Ð¾Ñ‡Ð½Ð¾ Ð¿Ð¾ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÑŽ. Ð¢Ñ‹ Ð¿Ð»Ð°Ñ‚Ð¸ÑˆÑŒ Ð±ÐµÐ· ÑÐ»Ð¾Ð².`,
          choices: [{ text: 'Ð”Ð°Ð»ÑŒÑˆÐµ', effects: {} }]
        };
      } else {
        return {
          title: 'âš ï¸ ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ•Ð• ÐŸÐ Ð•Ð”Ð£ÐŸÐ Ð•Ð–Ð”Ð•ÐÐ˜Ð•',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚ Ð½Ð° Ñ‚ÐµÐ±Ñ Ð´Ð¾Ð»Ð³Ð¸Ð¼ Ð²Ð·Ð³Ð»ÑÐ´Ð¾Ð¼.

â€” *Ð’ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ñ€Ð°Ð· Ð¿Ñ€Ð¾Ñ‰Ð°ÐµÐ¼. Ð¡Ð»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ Ñ€Ð°Ð· â€” ÐºÐ¾Ð½ÐµÑ†.*`,
          choices: [{ text: 'ÐŸÐ¾Ð½ÑÐ»...', effects: { health: -20, stability: -25 } }]
        };
      }
    }
  },

  day_24_fourth_payment: {
    id: 'day_24_fourth_payment',
    day: 24,
    title: 'ðŸ’° ÐŸÐ Ð•Ð”ÐŸÐžÐ¡Ð›Ð•Ð”ÐÐ˜Ð™ ÐŸÐ›ÐÐ¢ÐÐ–',
    category: 'main',
    condition: () => true,
    execute: (gameState) => {
      const syndicateDebt = gameState.getState().syndicate;
      const cash = gameState.getState().kpis.cash;

      if (cash >= syndicateDebt.currentPayment) {
        return {
          title: 'âœ… ÐŸÐ›ÐÐ¢ÐÐ– #4',
          text: `â€” *${syndicateDebt.currentPayment}. Ð¥Ð¾Ñ€Ð¾ÑˆÐ°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°. ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð½ÐµÐ¼Ð½Ð¾Ð³Ð¾.*`,
          choices: [{ text: 'ÐŸÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ñ€Ñ‹Ð²Ð¾Ðº', effects: {} }]
        };
      } else {
        return {
          title: 'âŒ GAME OVER',
          text: `ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€ Ð½Ðµ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¾Ð´Ð¸Ð½. **ÐšÐžÐÐ•Ð¦.**`,
          choices: [{ text: '...', effects: { health: -100 } }]
        };
      }
    }
  },

  day_30_finale: {
    id: 'day_30_finale',
    day: 30,
    title: 'ðŸ Ð¤Ð˜ÐÐÐ›',
    category: 'ending',
    condition: () => true,
    execute: (gameState) => {
      const syndicateDebt = gameState.getState().syndicate;
      const cash = gameState.getState().kpis.cash;
      const totalDebt = syndicateDebt?.debt || 50000;

      if (cash >= totalDebt) {
        return {
          title: 'ðŸŽ‰ ÐŸÐžÐ‘Ð•Ð”Ð',
          text: `Ð¢Ñ‹ ÑÑ‚Ð¾Ð¸ÑˆÑŒ Ð¿ÐµÑ€ÐµÐ´ Ð³Ð»Ð°Ð²Ð°Ñ€Ñ‘Ð¼ Ð¡Ð¸Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð°. ÐÐ° ÑÑ‚Ð¾Ð»Ðµ â€” ${totalDebt}â‚½.

ÐžÐ½ Ð¿ÐµÑ€ÐµÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚. ÐšÐ¸Ð²Ð°ÐµÑ‚.

â€” *ÐœÐ¾Ð»Ð¾Ð´ÐµÑ†. Ð”Ð¾Ð»Ð³Ð° Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½ÐµÑ‚.*

**Ð¢Ð« Ð’Ð«Ð–Ð˜Ð›. Ð¢Ð« Ð¡Ð’ÐžÐ‘ÐžÐ”Ð•Ð.**`,
          choices: [{ text: 'Ð¤Ð˜ÐÐÐ›', effects: {} }]
        };
      } else {
        return {
          title: 'â˜ ï¸ ÐŸÐžÐ ÐÐ–Ð•ÐÐ˜Ð•',
          text: `Ð”ÐµÐ½ÐµÐ³ Ð½ÐµÑ‚. ÐšÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€Ñ‹ Ð¿Ñ€Ð¸Ñ…Ð¾Ð´ÑÑ‚ Ð½Ð¾Ñ‡ÑŒÑŽ. **GAME OVER.**`,
          choices: [{ text: '...', effects: { health: -100 } }]
        };
      }
    }
  }
};

/**
 * ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¸ Ð·Ð°Ð¿ÑƒÑÐº ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð´Ð»Ñ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð´Ð½Ñ
 */
export function checkStoryEvents(day, gameState) {
  const eventsForToday = Object.values(STORY_EVENTS).filter(event => {
    return event.day === day && (!event.condition || event.condition(gameState.getState()));
  });

  return eventsForToday;
}
